import { test } from 'vitest'
import { setActivePinia, createPinia } from 'pinia'
import { useStore } from '@/stores/store'

const testData = '{"217b817a-f862-420b-ad60-64bbe75ee8d6":{"id":"217b817a-f862-420b-ad60-64bbe75ee8d6","name":"untitled","nodes":[{"id":"2c78cb64-a0ce-468f-81ac-e65a1e23431b","data":{"name":"Mandy Connelly","x":60,"y":210,"detail":"","record":"","completed":false,"sortedIndex":-1,"project":{"id":"217b817a-f862-420b-ad60-64bbe75ee8d6","name":"untitled"}}},{"id":"6025e8dd-c617-4473-8d60-a3c2f5b6cdd9","data":{"name":"Casey Simonis","x":180,"y":210,"detail":"","record":"","completed":false,"sortedIndex":-1,"project":{"id":"217b817a-f862-420b-ad60-64bbe75ee8d6","name":"untitled"}}},{"id":"13a1bc59-3629-49b0-b9a8-3116d07dbe64","data":{"name":"Wm Beahan I","x":300,"y":210,"detail":"","record":"","completed":false,"sortedIndex":-1,"project":{"id":"217b817a-f862-420b-ad60-64bbe75ee8d6","name":"untitled"}}},{"id":"2b576f86-d092-460c-94b2-1925c338d693","data":{"name":"Rex Osinski","x":420,"y":210,"detail":"","record":"","completed":false,"sortedIndex":-1,"project":{"id":"217b817a-f862-420b-ad60-64bbe75ee8d6","name":"untitled"}}},{"id":"504228a5-fd1d-45e2-b493-2e8e4be2c662","data":{"name":"Julio Lesch II","x":540,"y":210,"detail":"","record":"","completed":false,"sortedIndex":-1,"project":{"id":"217b817a-f862-420b-ad60-64bbe75ee8d6","name":"untitled"}}},{"id":"5d80cb6c-1c85-427e-bd7c-6097b700e49d","data":{"name":"Maggie Beer","x":660,"y":210,"detail":"","record":"","completed":false,"sortedIndex":-1,"project":{"id":"217b817a-f862-420b-ad60-64bbe75ee8d6","name":"untitled"}}},{"id":"37811ffc-55a4-414f-aff2-c58b15845e83","data":{"name":"Josephine Roberts","x":180,"y":270,"detail":"","record":"","completed":false,"sortedIndex":-1,"project":{"id":"217b817a-f862-420b-ad60-64bbe75ee8d6","name":"untitled"}}},{"id":"84ef2f39-2942-4422-b712-ec30f3f09fec","data":{"name":"Alejandro Ritchie","x":420,"y":270,"detail":"","record":"","completed":false,"sortedIndex":-1,"project":{"id":"217b817a-f862-420b-ad60-64bbe75ee8d6","name":"untitled"}}},{"id":"d2e02839-1a1d-43d7-86a2-e0430e3fac4d","data":{"name":"Caroline McDermott","x":540,"y":270,"detail":"","record":"","completed":false,"sortedIndex":-1,"project":{"id":"217b817a-f862-420b-ad60-64bbe75ee8d6","name":"untitled"}}},{"id":"335e6df3-564d-4734-aa95-ca2907e4993f","data":{"name":"Jimmie Jast","x":300,"y":390,"detail":"","record":"","completed":false,"sortedIndex":-1,"project":{"id":"217b817a-f862-420b-ad60-64bbe75ee8d6","name":"untitled"}}}],"edges":[{"id":"3c51f41e-3d03-43e1-bef9-1fe5bf316319","source":"2c78cb64-a0ce-468f-81ac-e65a1e23431b","target":"6025e8dd-c617-4473-8d60-a3c2f5b6cdd9","data":{"sourceAnchor":1,"targetAnchor":0}},{"id":"3c6887db-dcac-4c29-8365-125516997c19","source":"6025e8dd-c617-4473-8d60-a3c2f5b6cdd9","target":"13a1bc59-3629-49b0-b9a8-3116d07dbe64","data":{"sourceAnchor":1,"targetAnchor":0}},{"id":"c0ffae26-6989-412b-9e71-bd43357a47d5","source":"13a1bc59-3629-49b0-b9a8-3116d07dbe64","target":"2b576f86-d092-460c-94b2-1925c338d693","data":{"sourceAnchor":1,"targetAnchor":0}},{"id":"2a2fdf78-9151-4758-a6e4-b5f0ca144878","source":"2b576f86-d092-460c-94b2-1925c338d693","target":"504228a5-fd1d-45e2-b493-2e8e4be2c662","data":{"sourceAnchor":1,"targetAnchor":0}},{"id":"b7301063-92f9-4c11-8803-e299a85288b2","source":"504228a5-fd1d-45e2-b493-2e8e4be2c662","target":"5d80cb6c-1c85-427e-bd7c-6097b700e49d","data":{"sourceAnchor":1,"targetAnchor":0}}],"completed":false,"sortIndex":1,"editable":false,"createTime":1710689961340}}'

test('test store', () => {
  setActivePinia(createPinia())
  const store = useStore()
  store.restore(testData,'2024/3/20')
  console.log(store.currentTime.toLocaleDateString())
})