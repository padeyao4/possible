var Ze=Object.defineProperty;var et=(s,t,e)=>t in s?Ze(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var S=(s,t,e)=>(et(s,typeof t!="symbol"?t+"":t,e),e);import{d as tt,r as O,c as U,a as nt,b as z,o as D,e as b,f as m,w as E,g as w,u as M,R as ot,C as fe,t as Y,D as Te,h as st,m as at,i as it,j as K,k as rt,l as dt,n as Q,p as re,F as ct,q as lt,s as we,v as xe,x as ut,y as se,z as pt,A as Ie,B as ye,E as ve,G as j,H as ht,I as Ce,T as Be,J as F,K as mt,L as ze,M as gt,N as ft,O as vt,P as _t,Q as wt,S as de,U as xt,V as le,W as Ve,X as Le,Y as Ue,Z as Oe,_ as ke,$ as Fe,a0 as yt,a1 as q,a2 as Ee,a3 as Ct,a4 as kt,a5 as Dt,a6 as Nt,a7 as ie,a8 as Mt,a9 as St,aa as bt,ab as $t,ac as Pt,ad as Et,ae as Tt,af as It,ag as Bt,ah as zt,ai as Vt,aj as Lt}from"./.pnpm-DktDXliK.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();const ne=120,We=60,H=60;function _e(s){const t=s>=0?60:-60;return s-s%120+t}function Ae(s){const t=s>=0?30:-30;return s-s%60+t}function Ut(s){return(s>=0?60:-60)+s*120}function ce(s){const t=new Date(s),n=new Date(t.getTime()-t.getTimezoneOffset()*6e4).getTime()/864e5;return Math.floor(n)}function Ot(s){return new Date(s*864e5)}function Z(s,t){const e=ce(s)-ce(t);return Ut(e)}function Re(s){return"星期"+["日","一","二","三","四","五","六"][new Date(s).getDay()]}const P=tt("store",()=>{const s=O({}),t=O("today"),e=O(new Date),n=O(),o=O("none"),i=O({x:0,y:0}),d=(a,r)=>{var R;const{colsMap:c,rowsMap:l,coordinateMap:f,nodesMap:v}=r,k=v.get(a.id),{x:L,y:B}=k.data;c.get(L).delete(k),l.get(B).delete(k),f.delete(`${L},${B}`);const{x:$,y:V}=a.data;c.has($)?c.get($).add(k):c.set($,new Set([k])),l.get(B).delete(k),l.has(V)?l.get(V).add(k):l.set(V,new Set([k])),f.set(`${$},${V}`,k),k.data.x=a.data.x,k.data.y=a.data.y,(R=r.data.graph)==null||R.updateNodePosition(a)},h=(a,r)=>{var V;const c=r.nodesMap.get(a.id),{colsMap:l,rowsMap:f,coordinateMap:v}=r,{x:k,y:L}=c.data;l.get(k).delete(c),f.get(L).delete(c),v.delete(`${k},${L}`);const{x:B,y:$}=a.data;l.has(B)?l.get(B).add(c):l.set(B,new Set([c])),f.get(L).delete(c),f.has($)?f.get($).add(c):f.set($,new Set([c])),v.set(`${B},${$}`,c),Object.assign(c.data,a.data),(V=r.data.graph)==null||V.updateData("node",a)},_=(a,r)=>{var v,k,L;const{edgesMap:c,inEdgesMap:l,outEdgesMap:f}=r;c.set(a.id,a),(v=l.get(a.target))==null||v.add(a),(k=f.get(a.source))==null||k.add(a),(L=r.data.graph)==null||L.addData("edge",a)},u=(a,r)=>{var V,R,W;const{nodesMap:c,inEdgesMap:l,outEdgesMap:f,rowsMap:v,colsMap:k,coordinateMap:L}=r,{x:B,y:$}=a.data;L.has(`${B},${$}`)||(L.set(`${B},${$}`,a),c.set(a.id,a),l.set(a.id,new Set),f.set(a.id,new Set),B in k?(V=k.get(B))==null||V.add(a):k.set(B,new Set([a])),$ in v?(R=v.get($))==null||R.add(a):v.set($,new Set([a])),(W=r.data.graph)==null||W.addData("node",a))},x=(a,r)=>{var V,R,W,$e,Pe;const{outEdgesMap:c,inEdgesMap:l,nodesMap:f,edgesMap:v,rowsMap:k,colsMap:L,coordinateMap:B}=r;(V=c.get(a))==null||V.forEach(te=>{var oe;(oe=l.get(te.target))==null||oe.delete(te),v.delete(te.id)}),(R=l.get(a))==null||R.forEach(te=>{var oe;(oe=c.get(te.source))==null||oe.delete(te),v.delete(te.id)}),c.delete(a),l.delete(a);const $=f.get(a);B.delete(`${$.data.x},${$.data.y}`),(W=k.get($.data.x))==null||W.delete($),($e=L.get($.data.y))==null||$e.delete($),f.delete(a),(Pe=r.data.graph)==null||Pe.removeData("node",a)},p=(a,r,c)=>{var f;const l=[a];for(;l.length>0;){const v=l.shift();c(v),(f=r.outEdgesMap.get(v))==null||f.forEach(k=>{l.includes(r.nodesMap.get(k.target).id)||l.push(r.nodesMap.get(k.target).id)})}},C=(a,r,c)=>{var f;const l=[a];for(;l.length>0;){const v=l.shift();c(v),(f=r.inEdgesMap.get(v))==null||f.forEach(k=>{l.includes(r.nodesMap.get(k.source).id)||l.push(r.nodesMap.get(k.source).id)})}},T=(a,r,c)=>{var B,$;const l=new Set;l.add(a);const f=[a],{nodesMap:v,inEdgesMap:k,outEdgesMap:L}=r;for(;f.length>0;){const V=f.shift();c(V),(B=L.get(V))==null||B.forEach(R=>{const W=v.get(R.target).id;l.has(W)||(f.push(W),l.add(W))}),($=k.get(V))==null||$.forEach(R=>{const W=v.get(R.source).id;l.has(W)||(f.push(W),l.add(W))})}},g=(a,r)=>{const c=[];return T(a,r,l=>c.push(l)),c},y=(a,r)=>[...N(a,r),...I(a,r)],N=(a,r)=>{const{outEdgesMap:c,nodesMap:l}=r;return[...c.get(a)??[]].map(f=>l.get(f.target))},G=(a,r)=>{const c=N(a,r);let l=[...c];return c.forEach(f=>{const v=G(f.id,r);l=[...l,...v]}),[...new Set(l)]},I=(a,r)=>{const{inEdgesMap:c,nodesMap:l}=r;return[...c.get(a)??[]].map(f=>l.get(f.source))},X=a=>{t.value=a},ee=a=>t.value===a,pe=a=>{s.value[a.id]=a},De=a=>e.value=nt(e.value).add(a,"d").toDate(),He=()=>{e.value=new Date},Ye=(a,r)=>r.coordinateMap.has(`${a.data.x},${a.data.y}`),Ke=(a,r,c)=>{const l=new Set(g(r,c));return g(a,c).some(f=>l.has(f))},he=(a,r)=>{const c=g(a.id,r).map(v=>r.nodesMap.get(v)),l=new Set(c);let f=1;for(;c.some(v=>{const k=r.coordinateMap.get(`${v.data.x},${v.data.y+f*H}`);return k&&!l.has(k)});)f++;c.forEach(v=>{d({id:v.id,data:{x:v.data.x,y:v.data.y+f*H}},r)})},qe=(a,r)=>{const c=g(a.id,r).map(v=>r.nodesMap.get(v)),l=new Set(c);let f=1;for(;c.some(v=>{const k=r.coordinateMap.get(`${v.data.x},${v.data.y-f*H}`);return k&&!l.has(k)});)f++;c.forEach(v=>{d({id:v.id,data:{x:v.data.x,y:v.data.y-f*H}},r)})},Ne=(a,r)=>{const c=r.nodesMap.get(a);return r.coordinateMap.get(`${c.data.x},${c.data.y+H}`)},me=(a,r)=>{const c=r.nodesMap.get(a);return r.coordinateMap.get(`${c.data.x+ne},${c.data.y}`)},Me=(a,r)=>{const c=r.nodesMap.get(a);return r.coordinateMap.get(`${c.data.x-ne},${c.data.y}`)},Se=(a,r)=>{const c=r.nodesMap.get(a),l=Ne(a,r);return l?[...Se(l.id,r),c]:[c]},ge=(a,r)=>{const c=r.nodesMap.get(a);N(c.id,r).filter(f=>f.data.x-c.data.x===ne).forEach(f=>{ge(f.id,r)});let l=me(a,r);for(;l;)he(l,r),l=me(a,r);d({id:c.id,data:{x:c.data.x+ne,y:c.data.y}},r)},be=(a,r,c)=>{const l=r.nodesMap.get(a);if(l.data.completed||l.data.x<=c||I(a,r).filter(v=>l.data.x-v.data.x===ne).some(v=>!be(v.id,r,c)))return!1;{let v=Me(a,r);for(;v;)he(v,r),v=Me(a,r);return d({id:l.id,data:{x:l.data.x-ne,y:l.data.y}},r),!0}},Je=()=>{console.log("start daily update"),Object.values(s.value).forEach(a=>{const r=Z(e.value,a.createTime);let c=[...a.nodesMap.values()].filter(l=>l.data.x<r&&!l.data.completed).sort((l,f)=>l.data.x-f.data.x);for(;c.length>0;)ge(c[0].id,a),c=[...a.nodesMap.values()].filter(l=>l.data.x<r&&!l.data.completed).sort((l,f)=>l.data.x-f.data.x)}),console.log("daily update done")},Qe=U(()=>Object.values(s.value).filter(a=>!a.completed).map(a=>{const r=Z(e.value,a.createTime);return[...a.nodesMap.values()].filter(c=>c.data.x===r)}).flat());return{projects:s,currentTime:e,selectedNode:n,actionState:o,mousePosition:i,currentTasks:Qe,updateNode:h,addNode:u,addEdge:_,removeNode:x,isActive:ee,setSelected:X,addProject:pe,addDays:De,updateTime:He,getSuccessors:N,getAllSuccessors:G,getPredecessors:I,getNeighbors:y,moveRight:ge,moveLeft:be,moveDown:he,moveUp:qe,dailyUpdate:Je,checkNodeOverlap:Ye,bfsOutEdge:p,bfsInEdge:C,bfsAllNodes:T,getRelationNodes:g,findDownNode:Ne,findAllDownNode:Se,findRightNode:me,checkSameRelation:Ke,currentX:a=>Z(e.value,a.createTime)}}),Ft={class:"item-content"},Wt={class:"first-line"},At=["onClick"],Rt={class:"info"},jt={class:"second-line"},Gt=z({__name:"TodoItem",setup(s){const t=P(),e=U(()=>[...t.currentTasks].sort((o,i)=>o.data.sortedIndex-i.data.sortedIndex).filter(o=>!o.data.completed)??[]);function n(){e==null||e.value.forEach((o,i)=>{o.data.sortedIndex=i})}return(o,i)=>(D(),b("div",null,[m(M(st),{list:e.value,"item-key":"id",chosenClass:"chosen-class",dragClass:"drag-class",handle:".move-bar",ghostClass:"ghost-class",forceFallback:!0,onUpdate:n},{item:E(({element:d})=>[(D(),b("div",{key:d.id,class:"todo-item"},[w("div",Ft,[w("div",Wt,[w("div",{class:"todo-check-group",onClick:h=>d.data.completed=!0},[m(M(ot),{theme:"outline",size:"20",fill:"#333","stroke-width":2,"stroke-linecap":"butt",class:"round"}),m(M(fe),{theme:"outline",size:"20",fill:"#333","stroke-width":2,"stroke-linecap":"butt",class:"check"})],8,At),w("div",Rt,Y(d.data.name),1)]),w("div",jt,Y(d.data.project.name),1)]),m(M(Te),{theme:"outline",size:"20",fill:"#333","stroke-width":2,class:"move-bar"})]))]),_:1},8,["list"])]))}}),A=(s,t)=>{const e=s.__vccOpts||s;for(const[n,o]of t)e[n]=o;return e},Xt=A(Gt,[["__scopeId","data-v-fadaa6c0"]]),Ht=z({__name:"UnfoldButton",props:at(["counter"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const t=it(s,"modelValue");return(e,n)=>(D(),b("div",null,[w("div",{class:"main",onClick:n[0]||(n[0]=o=>t.value=!t.value)},[t.value?(D(),K(M(rt),{key:0,theme:"outline",size:"24",fill:"#333","stroke-width":2,style:{display:"flex","justify-content":"center","align-items":"center"}})):(D(),K(M(dt),{key:1,theme:"outline",size:"24",fill:"#333","stroke-width":2,style:{display:"flex","justify-content":"center","align-items":"center"}})),Q(" 已完成 "+Y(s.counter),1)])]))}}),Yt=A(Ht,[["__scopeId","data-v-80d67dae"]]),Kt={class:"item-content"},qt={class:"first-line"},Jt=["onClick"],Qt={class:"second-line"},Zt=z({__name:"CompletedItem",setup(s){const t=P(),e=O(!1),n=U(()=>t.currentTasks.filter(o=>o.data.completed)??[]);return(o,i)=>(D(),b("div",null,[n.value.length!==0?(D(),K(Yt,{key:0,modelValue:e.value,"onUpdate:modelValue":i[0]||(i[0]=d=>e.value=d),counter:n.value.length},null,8,["modelValue","counter"])):re("",!0),e.value?(D(!0),b(ct,{key:1},lt(n.value,d=>(D(),b("div",{key:d.id,class:"completed-item"},[w("div",Kt,[w("div",qt,[w("div",{class:"check-group",onClick:h=>d.data.completed=!1},[m(M(fe),{theme:"filled",size:"20",fill:"#333","stroke-width":2,"stroke-linecap":"butt",class:"round"}),m(M(fe),{theme:"outline",size:"20",fill:"#333","stroke-width":2,"stroke-linecap":"butt",class:"check"})],8,Jt),w("del",null,Y(d.data.name),1)]),w("div",Qt,Y(d.data.project.name),1)])]))),128)):re("",!0)]))}}),en=A(Zt,[["__scopeId","data-v-c705a625"]]),je=s=>(we("data-v-8c41d31f"),s=s(),xe(),s),tn={id:"home-view"},nn={class:"content"},on=je(()=>w("div",{id:"main-title"},"我的一天",-1)),sn={id:"sub-title"},an=je(()=>w("footer",null,null,-1)),rn=z({__name:"HomeView",setup(s){const t=P(),e=new Intl.DateTimeFormat("zh-Hans"),n=U(()=>e.format(t.currentTime)+","+Re(t.currentTime));return(o,i)=>(D(),b("div",tn,[w("div",nn,[w("header",null,[on,w("div",sn,Y(n.value),1)]),w("section",null,[m(Xt),m(en)])]),an]))}}),dn=A(rn,[["__scopeId","data-v-8c41d31f"]]);function cn(s,t,e,n,o,i,d){var u,x;const{x:h,y:_}=s.data;return d.has(`${h},${_}`)?!1:(d.set(`${h},${_}`,s),t.set(s.id,s),e.set(s.id,new Set),n.set(s.id,new Set),h in i?(u=i.get(h))==null||u.add(s):i.set(h,new Set([s])),_ in o?(x=o.get(_))==null||x.add(s):o.set(_,new Set([s])),!0)}function ln(s){return JSON.stringify([...Object.values(s)].map(t=>{const{id:e,name:n,completed:o,sortIndex:i,editable:d,createTime:h}=t;return{id:e,name:n,completed:o,sortIndex:i,editable:d,createTime:h,nodes:[...t.nodesMap.values()],edges:[...t.edgesMap.values()]}}))}function un(s){return JSON.parse(s).map(t=>{const{id:e,name:n,completed:o,sortIndex:i,editable:d,createTime:h,nodes:_,edges:u}=t,x=new Map,p=new Map,C=new Map,T=new Map,g=new Map,y=new Map,N=new Map,G=Ie({graph:null});return _.forEach(I=>{cn(I,x,C,T,g,y,N)}),u.forEach(I=>{var X,ee;p.set(I.id,I),(X=C.get(I.target))==null||X.add(I),(ee=T.get(I.source))==null||ee.add(I)}),{id:e,name:n,completed:o,sortIndex:i,editable:d,createTime:h,nodesMap:x,edgesMap:p,inEdgesMap:C,outEdgesMap:T,rowsMap:g,colsMap:y,coordinateMap:N,data:G}})}class pn{constructor(){S(this,"get",t=>new Promise(e=>{e(localStorage.getItem(t))}));S(this,"set",(t,e)=>new Promise(n=>{localStorage.setItem(t,e),n()}));S(this,"save",()=>new Promise(()=>{}))}}function hn(){const s=O(),t=P(),e=new pn;function n(){const o=new Date,d=new Date(o.getFullYear(),o.getMonth(),o.getDate()+1,0,0,0).getTime()-o.getTime();clearTimeout(s.value),s.value=setTimeout(()=>{t.updateTime(),t.dailyUpdate(),n()},d)}ut(()=>{e.get("data").then(o=>{o&&un(o).forEach(d=>{t.addProject(d)})}).then(()=>{t.updateTime(),t.dailyUpdate(),n(),t.$subscribe(()=>{const o=ln(t.projects);e.set("data",o).then(()=>se.debug("set data")),e.save().then(()=>se.debug("save data"))},{detached:!0})})}),pt(()=>{clearTimeout(s.value)})}function Ge(s,t,e){const n=_e(s),o=Ae(t),i=P();if(i.checkNodeOverlap({data:{x:n,y:o}},e)){se.warn("the node already exists at current location");return}const d=i.currentX(e);i.addNode({id:ye(),data:{name:ve.person.fullName(),x:n,y:o,detail:"",record:"",completed:n<d,sortedIndex:-1,project:{id:e.id,name:e.name}}},e)}const mn={key:0},gn={key:1},fn=z({__name:"GraphContextmenu",setup(s){const t=P(),e=j(),n=t.projects[e.params.id],o=U(()=>t.actionState==="node:contextmenu"||t.actionState==="canvas:contextmenu");function i(){t.removeNode(t.selectedNode.id,n)}function d(){t.actionState="none"}function h(y){C.value=y,setTimeout(()=>{y==null||y.focus()})}function _(){t.moveRight(t.selectedNode.id,n)}function u(){t.moveLeft(t.selectedNode.id,n,Z(t.currentTime,n.createTime))}function x(){t.moveDown(t.selectedNode,n)}function p(){t.moveUp(t.selectedNode,n)}const C=O(),T=U(()=>{const{height:y,width:N}=document.body.getBoundingClientRect(),{x:G,y:I}=n.data.graph.getClientByCanvas(t.mousePosition),{clientWidth:X,clientHeight:ee}=C.value??{clientWidth:0,clientHeight:0},pe=I>y-ee?y-ee:I;return{left:(G>N-X?G-X:G)+"px",top:pe+"px"}});function g(){const{x:y,y:N}=t.mousePosition;Ge(y,N,n)}return(y,N)=>(D(),K(Be,{to:"body"},[o.value?(D(),b("div",{key:0,class:"contextmenu",style:ht(T.value),onContextmenu:N[0]||(N[0]=Ce(()=>{},["prevent"])),ref:h,tabindex:"0",onBlur:d,onClick:d},[M(t).actionState==="node:contextmenu"?(D(),b("ul",mn,[w("li",{onClick:_},"单体右移"),w("li",{onClick:u},"单体左移"),w("li",{onClick:p},"整体上移"),w("li",{onClick:x},"整体下移"),w("li",{onClick:i},"删除")])):(D(),b("ul",gn,[w("li",{onClick:g},"新建")]))],36)):re("",!0)]))}}),vn=A(fn,[["__scopeId","data-v-529b81bd"]]),_n=z({__name:"GraphEditor",setup(s){const t=P(),e=j(),n=t.projects[e.params.id],o=U({get:()=>t.actionState==="edit",set:_=>{t.actionState=_?"edit":"none"}}),i=U(()=>{const _=t.selectedNode.data;return new Proxy(_,{get:(u,x)=>Reflect.get(u,x),set:(u,x,p)=>(Reflect.set(u,x,p),t.updateNode({id:t.selectedNode.id,data:u},n),!0)})}),d=U(()=>{const _=n.data.graph,u=t.selectedNode.id;return _.getAllPredecessors(u).every(p=>p.data.completed)}),h=U(()=>{const _=n.data.graph,u=t.selectedNode.id;return _.getAllSuccessors(u).every(p=>!p.data.completed)});return(_,u)=>{const x=F("el-input"),p=F("el-form-item"),C=F("el-radio"),T=F("el-radio-group"),g=F("el-form"),y=F("el-drawer");return D(),K(Be,{to:"body"},[m(y,{modelValue:o.value,"onUpdate:modelValue":u[5]||(u[5]=N=>o.value=N),"close-on-click-modal":!1,"show-close":!0,"modal-class":"modal-class",onClose:u[6]||(u[6]=N=>o.value=!1)},{default:E(()=>[m(g,{model:i.value,onSubmit:u[4]||(u[4]=Ce(()=>{},["prevent"]))},{default:E(()=>[m(p,{label:"名称"},{default:E(()=>[m(x,{modelValue:i.value.name,"onUpdate:modelValue":u[0]||(u[0]=N=>i.value.name=N)},null,8,["modelValue"])]),_:1}),m(p,{label:"详情"},{default:E(()=>[m(x,{modelValue:i.value.detail,"onUpdate:modelValue":u[1]||(u[1]=N=>i.value.detail=N),type:"textarea"},null,8,["modelValue"])]),_:1}),m(p,{label:"记录"},{default:E(()=>[m(x,{modelValue:i.value.record,"onUpdate:modelValue":u[2]||(u[2]=N=>i.value.record=N),type:"textarea"},null,8,["modelValue"])]),_:1}),m(T,{modelValue:i.value.completed,"onUpdate:modelValue":u[3]||(u[3]=N=>i.value.completed=N)},{default:E(()=>[m(C,{value:!0,disabled:!d.value,size:"default",border:""},{default:E(()=>[Q("完成")]),_:1},8,["disabled"]),m(C,{value:!1,disabled:!h.value,size:"default",border:""},{default:E(()=>[Q("正常")]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),wn=z({__name:"OperationTip",props:{content:{}},setup(s){return(t,e)=>{const n=F("el-tooltip");return D(),K(n,{content:t.content,placement:"top","show-after":200,offset:10,"popper-class":"tip-class",enterable:!1},{default:E(()=>[mt(t.$slots,"default",{},void 0,!0)]),_:3},8,["content"])}}}),ae=A(wn,[["__scopeId","data-v-9e6075ea"]]),xn=z({__name:"PickDateButton",setup(s){const t=P(),e=j(),n=O(!1),o=O(),i=t.projects[e.params.id];function d(){n.value=!0}function h(u){setTimeout(()=>{u==null||u.focus()})}function _(u){var x;if(o.value){const p=Z(o.value,i.createTime)-60,{x:C,y:T}=i.data.graph.getCanvasByViewport({x:0,y:0});i.data.graph.translate({dx:C-p,dy:T})}(x=u==null?void 0:u.target)==null||x.blur(),n.value=!1}return(u,x)=>{const p=F("el-date-picker");return D(),b("div",null,[n.value?(D(),K(p,{key:0,modelValue:o.value,"onUpdate:modelValue":x[0]||(x[0]=C=>o.value=C),style:{width:"120px !important","user-select":"none"},type:"date",placeholder:"Pick a day",size:"small",ref:h,onKeydown:ze(_,["enter"]),onBlur:_},null,8,["modelValue"])):(D(),K(ae,{key:1,content:"选择日期"},{default:E(()=>[m(M(gt),{theme:"outline",size:"20",fill:"#333","stroke-width":2,style:{display:"flex","justify-content":"center","align-items":"center",width:"24px",height:"24px"},onClick:d})]),_:1}))])}}}),yn=z({__name:"ResetButton",setup(s){const t=P(),e=j(),n=t.projects[e.params.id];function o(){setTimeout(()=>{const{x:i,y:d}=n.data.graph.getCanvasByViewport({x:0,y:0}),h=Z(t.currentTime,n.createTime);n.data.graph.translate({dx:i-h+We,dy:d})})}return(i,d)=>(D(),b("div",null,[m(ae,{content:"恢复坐标"},{default:E(()=>[m(M(ft),{theme:"outline",size:"20",fill:"#333","stroke-width":2,style:{display:"flex","justify-content":"center","align-items":"center",width:"24px",height:"24px"},onClick:o})]),_:1})]))}}),Cn=z({__name:"TestButton",setup(s){const t=P();function e(){t.dailyUpdate()}return(n,o)=>(D(),b("div",null,[m(ae,{content:"测试按钮"},{default:E(()=>[m(M(vt),{theme:"outline",size:"20",fill:"#333","stroke-width":2,style:{display:"flex","justify-content":"center","align-items":"center",width:"24px",height:"24px"},onClick:e})]),_:1})]))}}),kn=z({__name:"TestRestoreButton",setup(s){const t=P();function e(){t.updateTime(),console.log(t.currentTime)}return(n,o)=>(D(),b("div",null,[m(ae,{content:"恢复"},{default:E(()=>[m(M(_t),{theme:"outline",size:"20",fill:"#333","stroke-width":2,style:{display:"flex","justify-content":"center","align-items":"center",width:"24px",height:"24px"},onClick:e})]),_:1})]))}}),Dn=z({__name:"TestRightButton",setup(s){const t=P();function e(){t.addDays(1)}return(n,o)=>(D(),b("div",null,[m(ae,{content:"右移动"},{default:E(()=>[m(M(wt),{theme:"outline",size:"20",fill:"#333","stroke-width":2,style:{display:"flex","justify-content":"center","align-items":"center",width:"24px",height:"24px"},onClick:e})]),_:1})]))}}),Nn=z({__name:"GraphTimerHeader",setup(s){const t=P(),e=O(),n=de(),o=de(),i=j(),d=t.projects[i.params.id],h=new Intl.DateTimeFormat("zh-Hans"),_=U(()=>ce(t.currentTime)),u=U(()=>ce(t.projects[i.params.id].createTime));function x(g){const y=Ot(g);return h.format(y)+`
`+Re(y)}xt([o,_],()=>{p()});function p(){if(!d.data.graph)return;const{x:g}=d.data.graph.getCanvasByViewport({x:0,y:0});o.value.setPosition(-g%120,0);const y=o.value.getChildren(),N=g/120,G=N>=0?Math.floor(N):Math.ceil(N);for(let I=0;I<y.length;I++){const X=+y[I].id+G;y[I].style.text=x(X),y[I].style.fill=X===_.value?"green":"black"}}function C(){n.value.resize(e.value.clientWidth,e.value.clientHeight),T()}function T(){o.value.removeChildren();const g=Math.ceil(e.value.clientWidth/120)+1;for(let y=-1;y<g;y++){const N=new Fe({id:(y+u.value).toString(),style:{x:y*120+60,y:20,text:"",fontSize:14,fill:"#000000",textBaseline:"middle",textAlign:"center",wordWrapWidth:100,wordWrap:!0,lineWidth:5}});o.value.appendChild(N)}p()}return le(()=>{n.value=new Ve({container:e.value,width:e.value.clientWidth,height:e.value.clientHeight,renderer:new Le}),o.value=new Ue,n.value.appendChild(o.value),T(),Oe(()=>{var g;(g=d.data.graph)==null||g.on("viewportchange",p)}),window.addEventListener("resize",C)}),ke(()=>{window.removeEventListener("resize",C)}),(g,y)=>(D(),b("div",{id:"graph-timer-header",ref_key:"container",ref:e},null,512))}}),Mn=A(Nn,[["__scopeId","data-v-3a2d70db"]]),Sn=z({__name:"GraphRuler",setup(s){const t=P(),e=O(),n=de(),o=de(),i=j(),d=t.projects[i.params.id];function h(){n.value.resize(e.value.clientWidth,e.value.clientHeight),u()}le(()=>{n.value=new Ve({container:e.value,width:e.value.clientWidth,height:e.value.clientHeight,renderer:new Le}),o.value=new Ue,n.value.appendChild(o.value),u(),Oe(()=>{var x;(x=d.data.graph)==null||x.on("viewportchange",_)}),window.addEventListener("resize",h)}),ke(()=>{window.removeEventListener("resize",h)});function _(){if(!d.data.graph)return;const{y:x}=d.data.graph.getCanvasByViewport({x:0,y:0});o.value.setPosition(0,-x%H);const p=o.value.getChildren(),C=x/H,T=C>=0?Math.floor(C):Math.ceil(C);for(let g=0;g<p.length;g++){const y=+p[g].id+T;p[g].style.text=y.toString()}}function u(){o.value.removeChildren();const x=Math.ceil(e.value.clientHeight/H)+1;for(let p=-1;p<x;p++){const C=new Fe({id:p.toString(),style:{x:10,y:p*H,text:p.toString(),fontSize:10,fill:"#000000",textBaseline:"middle",textAlign:"center",wordWrapWidth:100,wordWrap:!0,lineWidth:5}});o.value.appendChild(C)}}return(x,p)=>(D(),b("div",{id:"graph-ruler",ref_key:"container",ref:e},null,512))}}),bn=A(Sn,[["__scopeId","data-v-1d36411e"]]);class $n extends yt{async transform(t,e){const{tileLodSize:n}=this.specification.optimize||{};await this.hooks.viewportchange.emitLinearAsync({transform:t,effectTiming:e,tileLodSize:n}),this.emit("viewportchange",t)}getPredecessors(t){return this.dataController.graphCore.getPredecessors(t)}getSuccessors(t){return this.dataController.graphCore.getSuccessors(t)}checkNodeOverlap(t,e){return this.getAllNodesData().some(n=>n.data.x===t&&n.data.y===e)}hasNode(t){return this.dataController.graphCore.hasNode(t)}getAllPredecessorsIds(t){const e=[],n=this.getPredecessors(t).map(o=>o.id);return n&&n.length>0&&n.forEach(o=>{e.push(...this.getAllPredecessorsIds(o))}),new Set([...e,t])}getAllPredecessors(t){const e=this.getAllPredecessorsIds(t);return e.delete(t),[...e].map(n=>this.getNodeData(n))}getAllSuccessorsIds(t){const e=[],n=this.getSuccessors(t).map(o=>o.id);return n&&n.length>0&&n.forEach(o=>{e.push(...this.getAllSuccessorsIds(o))}),new Set([...e,t])}getAllSuccessors(t){const e=this.getAllSuccessorsIds(t);return e.delete(t),[...e].map(n=>this.getNodeData(n))}}class Pn extends q.RectNode{drawOtherShapes(t,e,n,o){const{data:{name:i}}=t,d={model:t,shapeMap:e,diffData:n,diffState:o};return{info:this.upsertShape("text","text-info",{x:0,y:0,text:i,fill:"#000",textAlign:"center",textBaseline:"middle",fontSize:12,textOverflow:"ellipsis",wordWrap:!0,wordWrapWidth:60,maxLines:2},d),...e}}}class En extends q.BasePlugin{constructor(){super(...arguments);S(this,"canvas");S(this,"container");S(this,"grid")}init(e){var h;super.init(e);const n=e.container,o=this.canvas||((h=n.firstChild)==null?void 0:h.nextSibling),i=Ee("<div class='g6-grid-container'></div>"),d=Ee("<div class='g6-grid'></div>");i.appendChild(d),n.insertBefore(i,o),this.container=i,this.grid=d}getEvents(){return{viewportchange:this.updateGrid}}destroy(){super.destroy();const e=this.container;e!=null&&e.parentNode&&e.parentNode.removeChild(e)}updateGrid(){const n=`matrix(1,0,0,1,${-this.graph.getCanvasByViewport({x:0,y:0}).x%120},0)`;Ct(this.grid,{transform:n})}}const Tn={shouldBegin:s=>s.button===0};class In extends q.BaseBehavior{constructor(e){super(Object.assign({},Tn,e));S(this,"store",P());S(this,"route",j());S(this,"currentProject",this.store.projects[this.route.params.id])}getEvents(){return{"canvas:dblclick":this.create}}create(e){if(!this.options.shouldBegin(e))return;const{x:n,y:o}=e.canvas;Ge(n,o,this.currentProject)}}const Bn={shouldBegin:s=>s.button===0};class zn extends q.BaseBehavior{constructor(e){super(Object.assign({},Bn,e));S(this,"pointerDownPosition",null);S(this,"store",P())}getEvents(){return{"canvas:pointerdown":this.onPointerDown,pointermove:this.onPointerMove,click:this.onClick}}onPointerDown(e){if(!this.options.shouldBegin(e))return;const{x:n,y:o}=e.client;this.pointerDownPosition={x:n,y:o};const i=()=>{this.onPointerUp(),window.removeEventListener("mouseup",i)};window.addEventListener("mouseup",i,{once:!0})}onPointerMove(e){if(!this.pointerDownPosition)return;const{x:n,y:o}=e.client,i=n-this.pointerDownPosition.x,d=o-this.pointerDownPosition.y;this.graph.translate({dx:i,dy:d}).then(()=>{}),this.pointerDownPosition={x:n,y:o}}onPointerUp(){this.pointerDownPosition&&this.clearState()}onClick(){this.clearState()}clearState(){this.pointerDownPosition=null}}const Vn={shouldBegin:s=>s.button===0};class Ln extends q.BaseBehavior{constructor(e){super(Object.assign({},Vn,e));S(this,"pointerDown",!1);S(this,"dragging",!1);S(this,"pointerDownPosition",{x:0,y:0});S(this,"originNodeData",{id:"",data:{x:0,y:0,completed:!1}});S(this,"store",P());S(this,"route",j());S(this,"currentProject",this.store.projects[this.route.params.id]);S(this,"currentX",0)}getEvents(){return{"node:pointerdown":this.onPointerDown,pointerup:this.onPointerUp,pointermove:this.onPointerMove,click:this.onClick}}onPointerDown(e){if(!this.options.shouldBegin(e))return;const n=()=>{this.onPointerUp(),window.removeEventListener("mouseup",n)};window.addEventListener("mouseup",n,{once:!0});const{itemId:o,target:{id:i}}=e;if(i==="anchorShape0"||i==="anchorShape1")return;const d=this.graph.getNodeData(o);this.originNodeData={id:o,data:{x:d.data.x,y:d.data.y,completed:d.data.completed}},this.pointerDown=!0,this.pointerDownPosition={x:e.canvas.x,y:e.canvas.y},this.currentX=Z(this.store.currentTime,this.currentProject.createTime)}onPointerMove(e){if(!this.pointerDown)return;this.dragging||(this.dragging=!0);const{x:n,y:o}=this.originNodeData.data,i=n-this.pointerDownPosition.x+e.canvas.x,d=o-this.pointerDownPosition.y+e.canvas.y;this.graph.updateData("node",{id:this.originNodeData.id,data:{x:i,y:d,completed:_e(i)<this.currentX||this.originNodeData.data.completed}})}clearState(){this.pointerDown=!1,this.dragging=!1}dragend(){const e=this.originNodeData.id,{x:n,y:o}=this.graph.getNodeData(e).data,i=_e(n),d=Ae(o);if(this.graph.checkNodeOverlap(i,d)){this.restoreNodeState();return}const h=n-this.originNodeData.data.x;if(h>0&&this.graph.getSuccessors(e).map(u=>u.data.x).some(u=>i>=u)){this.restoreNodeState();return}if(h<0&&this.graph.getPredecessors(e).map(u=>u.data.x).some(u=>i<=u)){this.restoreNodeState();return}this.updateNodeInfo(i,d)}restoreNodeState(){this.graph.updateData("node",this.originNodeData)}updateNodeInfo(e,n){this.store.updateNode({id:this.originNodeData.id,data:{x:e,y:n,completed:e<this.currentX||this.originNodeData.data.completed}},this.currentProject)}onPointerUp(){this.pointerDown&&this.dragging&&(this.clearState(),this.dragend())}onClick(){this.clearState()}}const Un={shouldBegin:s=>s.button===0},J="DUMMY_NODE";class On extends q.BaseBehavior{constructor(e){super(Object.assign({},Un,e));S(this,"store",P());S(this,"route",j());S(this,"currentProject",this.store.projects[this.route.params.id]);S(this,"pointDown",!1);S(this,"edge")}getEvents(){return{"node:pointerdown":this.onPointerDown,pointerup:this.onPointerUp,pointermove:this.onPointerMove,click:this.onClick}}onPointerDown(e){if(!this.options.shouldBegin(e))return;const n=e.itemId,o=e.target.id;if(o!=="anchorShape0"&&o!=="anchorShape1")return;this.pointDown=!0,this.graph.addData("node",{id:J,data:{name:"dummy",type:"circle-node",x:e.canvas.x,y:e.canvas.y,anchorPoints:[[.5,.5]]}}),this.graph.hideItem(J);const i=o==="anchorShape1"?n:J,d=o==="anchorShape0"?n:J;this.edge={id:"DUMMY_EDGE",source:i,target:d,data:{sourceAnchor:1,targetAnchor:0}},this.graph.addData("edge",{...this.edge})}creteEdge(e,n){const o=this.graph.getNodeData(e),i=this.graph.getNodeData(n);o.data.x>=i.data.x||e===n||this.graph.getNeighborNodesData(e,"both").map(h=>h.id).includes(n)||this.store.addEdge({id:ye(),source:e,target:n,data:{sourceAnchor:1,targetAnchor:0}},this.currentProject)}onPointerUp(e){if(!this.pointDown)return;this.clearStatus();const{itemId:n,itemType:o}=e,i=this.edge.source===J?n:this.edge.source,d=this.edge.target===J?n:this.edge.target;o!=="node"||this.graph.getNodeData(d).data.completed||this.creteEdge(i,d)}onPointerMove(e){if(!this.pointDown)return;const{x:n,y:o}=e.canvas;this.graph.updateNodePosition({id:J,data:{x:n,y:o}})}clearStatus(){this.pointDown&&(this.graph.removeData("node",J),this.pointDown=!1)}onClick(){this.clearStatus()}}class Fn extends q.BaseBehavior{getEvents(){return{"node:pointerenter":this.onPointerEnter,"node:pointerleave":this.onPointerLeave}}onPointerEnter(t){const e=t.itemId;this.graph.hasNode(e)&&this.graph.setItemState(e,"hover",!0)}onPointerLeave(t){const e=t.itemId;this.graph.hasNode(e)&&this.graph.setItemState(e,"hover",!1)}}const Wn={shouldBegin:s=>s.button===0};class An extends q.BaseBehavior{constructor(e){super(Object.assign({},Wn,e));S(this,"store",P())}getEvents(){return{"node:dblclick":this.doubleClick}}doubleClick(e){if(!this.options.shouldBegin(e))return;const{itemId:n}=e;this.store.selectedNode={...this.graph.getNodeData(n)},this.store.actionState="edit"}}class Rn extends q.BaseBehavior{constructor(){super(...arguments);S(this,"store",P())}getEvents(){return{"node:contextmenu":this.onNodeContextmenu,"canvas:contextmenu":this.onCanvasContextmenu}}onCanvasContextmenu(e){const{x:n,y:o}=e.canvas;this.store.mousePosition={x:n,y:o},this.store.actionState="canvas:contextmenu"}onNodeContextmenu(e){const{itemId:n}=e,{x:o,y:i}=e.canvas;this.store.selectedNode=this.graph.getNodeData(n),this.store.mousePosition={x:o,y:i},this.store.actionState="node:contextmenu"}}const jn=z({__name:"GraphContainer",setup(s){const t=O(),e=P(),n=j(),o=e.projects[n.params.id];async function i(){const h=o.data.graph,{x:_,y:u}=h.getCanvasByViewport({x:0,y:0});if(isNaN(_)||isNaN(u)||t.value.clientWidth<=1||t.value.clientHeight<=1)return;h.setSize([t.value.clientWidth,t.value.clientHeight]);const{x,y:p}=h.getCanvasByViewport({x:0,y:0});await h.translate({dx:x-_,dy:p-u})}le(()=>{const h=kt($n,{nodes:{CardNode:Pn},plugins:{GridPlugin:En},behaviors:{CreateNode:In,DragCanvas:zn,DragNode:Ln,CreateEdge:On,HoverNode:Fn,DoubleClickNode:An,ContextMenu:Rn}}),_=new h({container:t.value,width:t.value.clientWidth,height:t.value.clientHeight,plugins:["GridPlugin"],modes:{default:["DragCanvas","CreateNode","DragNode","CreateEdge","HoverNode","DoubleClickNode","ContextMenu"]},node:u=>{const{id:x,data:p}=u;return{id:x,data:{type:"CardNode",anchorPoints:[[0,.5],[1,.5]],keyShape:{radius:4,width:80,height:40,fill:p.completed?"#00000030":"#fff",fillOpacity:.5,stroke:"#000",strokeOpacity:.5,lineWidth:1},otherShapes:{},anchorShapes:[{opacity:0},{opacity:0}],...p}}},nodeState:{hover:{anchorShapes:[{position:[0,.5],r:4,fill:"#fff",cursor:"pointer",opacity:1},{position:[1,.5],r:4,fill:"#fff",cursor:"pointer",opacity:1}]}},data:{nodes:[...o.nodesMap.values()],edges:[...o.edgesMap.values()]}});d(_),o.data.graph=_,window.addEventListener("resize",i)}),ke(()=>{window.removeEventListener("resize",i),o.data.graph=null});function d(h){const{x:_,y:u}=h.getCanvasByViewport({x:0,y:0}),x=Z(e.currentTime,o.createTime);h.translate({dx:_-x+We,dy:u}).then(()=>se.debug("graph translate to today"))}return(h,_)=>(D(),b("div",{id:"graph-container",ref_key:"container",ref:t},null,512))}}),Gn=A(jn,[["__scopeId","data-v-4c0b765d"]]),Xn={id:"project-view"},Hn={class:"content"},Yn=z({__name:"ProjectView",setup(s){const t=P(),e=j(),n=U(()=>t.projects[e.params.id]);return(o,i)=>(D(),b("div",Xn,[w("header",null,Y(n.value.name),1),w("main",null,[m(Mn),w("div",Hn,[m(bn),m(Gn)]),m(_n),m(vn)]),w("footer",null,[m(yn),m(xn),m(Cn),m(Dn),m(kn)])]))}}),Kn=A(Yn,[["__scopeId","data-v-f6587ef3"]]),qn=s=>(we("data-v-3284a28e"),s=s(),xe(),s),Jn={id:"completed-view"},Qn={class:"content"},Zn=qn(()=>w("header",null,[w("div",{id:"main-title"},"已完成项目")],-1)),eo=z({__name:"CompletedView",setup(s){const t=P(),e=O(""),n=U(()=>Object.values(t.projects).filter(h=>h.completed).filter(h=>!e.value||h.name.toLowerCase().includes(e.value.toLowerCase()))),o=(h,_)=>{_.completed=!1},i=(h,_)=>{delete t.projects[_.id]};function d(h){return new Date(h.createTime).toLocaleString()}return(h,_)=>{const u=F("el-table-column"),x=F("el-input"),p=F("el-button"),C=F("el-popconfirm"),T=F("el-table");return D(),b("div",Jn,[w("div",Qn,[Zn,w("section",null,[m(T,{data:n.value,style:{width:"100%",height:"100%","border-radius":"4px"}},{default:E(()=>[m(u,{label:"时间",prop:"createTime",formatter:d}),m(u,{label:"名称",prop:"name"}),m(u,{align:"right"},{header:E(()=>[m(x,{modelValue:e.value,"onUpdate:modelValue":_[0]||(_[0]=g=>e.value=g),size:"small",placeholder:"输入名称"},null,8,["modelValue"])]),default:E(g=>[m(C,{title:"删除当前项目吗","hide-after":0,onConfirm:y=>i(g.$index,g.row)},{reference:E(()=>[m(p,{size:"small",type:"danger"},{default:E(()=>[Q("删除")]),_:1})]),_:2},1032,["onConfirm"]),m(p,{size:"small",onClick:y=>o(g.$index,g.row)},{default:E(()=>[Q("恢复")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])])])}}}),to=A(eo,[["__scopeId","data-v-3284a28e"]]),no={},oo=s=>(we("data-v-f26498a0"),s=s(),xe(),s),so={id:"settings-view"},ao=oo(()=>w("div",{class:"content"},[w("header",null,[w("div",{id:"main-title"},"配置")]),w("section",null,[w("div")])],-1)),io=[ao];function ro(s,t){return D(),b("div",so,io)}const co=A(no,[["render",ro],["__scopeId","data-v-f26498a0"]]),Xe=Dt({history:Nt("/possible/"),routes:[{path:"/today",name:"home",component:dn},{path:"/completed",name:"completed",component:to},{path:"/settings",name:"settings",component:co},{path:"/project/:id",name:"project",props:!0,component:Kn},{path:"/",redirect:"/today"}]}),lo={class:"today-content"},uo={key:0,class:"counter-icon"},po={id:"body"},ho=["onClick"],mo=["onUpdate:modelValue","onBlur","onKeydown"],go={key:1,class:"project-item"},fo={class:"info"},vo={class:"operation"},_o=z({__name:"App",setup(s){const t=j(),e=P(),{isActive:n}=e;hn();const o=U({get:()=>Object.values(e.projects).filter(p=>p.completed===!1).sort((p,C)=>p.sortIndex-C.sortIndex),set:()=>{}});function i(){o.value.forEach((p,C)=>{p.sortIndex=C})}function d(){const p=ye();e.addProject({id:p,name:ve.finance.currencyName(),nodesMap:new Map,edgesMap:new Map,inEdgesMap:new Map,outEdgesMap:new Map,rowsMap:new Map,colsMap:new Map,coordinateMap:new Map,completed:!1,sortIndex:o.value.length+1,editable:!0,createTime:ve.date.between({from:"1900/1/1",to:"2024/3/20"}).valueOf(),data:Ie({graph:null})}),u(`/project/${p}`)}function h(p){setTimeout(()=>{p==null||p.focus()})}le(()=>{u("/today")});function _(p,C){p.stopPropagation(),C.completed=!0,u("/completed")}function u(p){e.setSelected(p),Xe.push(p)}const x=U(()=>e.currentTasks.filter(p=>!p.data.completed).length);return(p,C)=>{const T=F("router-view");return D(),b("main",{onContextmenu:C[3]||(C[3]=Ce(()=>{},["prevent"]))},[w("aside",null,[w("header",null,[w("div",{class:ie(["selected-item","today-layout",{selected:M(n)("/today")}]),onClick:C[0]||(C[0]=g=>u("/today"))},[w("div",lo,[m(M(Mt),{theme:"multi-color",size:"20",fill:["#333","#2F88FF","#FFF","#43CCF8"],strokeWidth:3,strokeLinecap:"butt",class:"item-icon"}),Q(" 我的一天 ")]),x.value!==0?(D(),b("div",uo,Y(x.value),1)):re("",!0)],2),w("div",{class:ie(["selected-item",{selected:M(n)("/completed")}]),onClick:C[1]||(C[1]=g=>u("/completed"))},[m(M(St),{theme:"outline",size:"20",fill:"#333",strokeWidth:3,strokeLinecap:"butt",class:"item-icon"}),Q(" 已完成项目 ")],2)]),w("div",po,[m(M(Tt),{list:o.value,"item-key":"id",chosenClass:"chosen-class",dragClass:"drag-class",handle:".move",ghostClass:"ghost-class",forceFallback:!0,onUpdate:i},{item:E(({element:g})=>[(D(),b("div",{onClick:y=>u(`/project/${g.id}`),class:ie(["selected-item",{selected:M(n)(`/project/${g.id}`)}]),key:g.id},[g.editable&&M(n)(`/project/${g.id}`)?bt((D(),b("input",{key:0,ref:h,"onUpdate:modelValue":y=>g.name=y,onBlur:y=>g.editable=!1,onKeydown:ze(y=>g.editable=!1,["enter"])},null,40,mo)),[[$t,g.name]]):(D(),b("div",go,[w("div",fo,Y(g.name),1),w("div",vo,[m(M(Pt),{theme:"outline",size:"15",fill:"#333",strokeWidth:1,onClick:y=>g.editable=!0},null,8,["onClick"]),m(M(Et),{theme:"outline",size:"15",fill:"#333",strokeWidth:1,onClick:y=>_(y,g)},null,8,["onClick"]),m(M(Te),{theme:"outline",size:"15",fill:"#b9b9b9",strokeWidth:1,class:"move"})])]))],10,ho))]),_:1},8,["list"])]),w("footer",null,[w("div",{onClick:d,class:"selected-item create-button"},[m(M(It),{theme:"multi-color",size:"20",fill:["#333","#2F88FF","#FFF","#43CCF8"],strokeWidth:3,strokeLinecap:"butt",class:"item-icon"}),Q(" 新建项目 ")]),w("div",{class:ie(["selected-item","settings-button",{selected:M(n)("/settings")}]),onClick:C[2]||(C[2]=g=>u("/settings"))},[m(M(Bt),{theme:"outline",size:"24",fill:"#333",strokeWidth:2,class:"setting-icon"})],2)])]),w("section",null,[(D(),K(T,{key:M(t).fullPath}))])],32)}}}),wo=A(_o,[["__scopeId","data-v-75d8162b"]]);(function(){if(typeof EventTarget<"u"){const s=EventTarget.prototype.addEventListener;EventTarget.prototype.addEventListener=function(t,e,n){this.func=s,typeof n!="boolean"&&(n=n||{},n.passive=!1),this.func(t,e,n)}}})();se.setDefaultLevel("silent");const ue=zt(wo);ue.use(Vt);ue.use(Lt());ue.use(Xe);ue.mount("#app");
